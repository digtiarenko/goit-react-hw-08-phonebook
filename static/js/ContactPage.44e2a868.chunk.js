"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[718],{8347:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var a=r(885),t=r(5048),i=r(2791),o=r(6373),l=r(4852),s=r(890),d=r(7924),c=r(653),u=r(6259),m=r(3044),h=r(3400),x=r(501),p=r(7247),f=r(4903),v=r(3329),j=function(e){var n=e.id,r=e.phone,t=e.name,i=e.email,o=(0,f.Nt)(),j=(0,a.Z)(o,2),b=j[0],Z=j[1].isLoading;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(l.ZP,{sx:{"&:hover":{backgroundColor:"lightgray"}},alignItems:"flex-start",secondaryAction:(0,v.jsx)(h.Z,{disabled:Z,onClick:function(){return b(n)},type:"button",edge:"end","aria-label":"delete",children:(0,v.jsx)(p.Z,{})}),children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)(m.Z,{children:(0,v.jsx)(x.Z,{})})}),(0,v.jsx)(u.Z,{primary:t,secondary:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{variant:"caption",display:"block",children:r}),(0,v.jsx)(s.Z,{variant:"caption",children:i})]})})]}),(0,v.jsx)(d.Z,{variant:"inset",component:"li"})]})},b=r(4554),Z=r(9877),g=r(493),y=r(2419),C=r(6934),k=r(9332),w=r(5861),q=r(7757),A=r.n(q),_=r(5705),F=r(1089),P=r(1106),T=r(6151),L=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,B=(0,C.ZP)(P.Z)({marginBottom:10,display:"block"});function E(){var e=(0,f.Tn)(),n=(0,a.Z)(e,2),r=n[0],t=n[1].isLoading,i=F.Ry({name:F.Z_("Enter your name").required("Name is required"),email:F.Z_("Enter your email").email("Enter a valid email").required("Email is required"),phone:F.Z_().matches(L,"Phone number is not valid").min(8,"Phone number should be of minimum 8 characters length").required("Phone number is required")}),o=(0,_.TA)({initialValues:{name:"",email:"",phone:""},validationSchema:i,onSubmit:function(){var e=(0,w.Z)(A().mark((function e(n,a){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.resetForm,e.next=3,r(n);case 3:t();case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()});return(0,v.jsxs)(b.Z,{component:"form",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:"400px",height:"400px",bgcolor:"white",Validate:!0,autoComplete:"off",onSubmit:o.handleSubmit,children:[(0,v.jsx)(s.Z,{variant:"h6",marginBottom:"20px",children:"Create contact"}),(0,v.jsx)(B,{required:!0,autoFocus:!0,id:"name",name:"name",label:"Name",variant:"outlined",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name}),(0,v.jsx)(B,{required:!0,id:"email",name:"email",label:"Email",variant:"outlined",value:o.values.email,onChange:o.handleChange,error:o.touched.email&&Boolean(o.errors.email),helperText:o.touched.email&&o.errors.email}),(0,v.jsx)(B,{required:!0,id:"phone",name:"phone",label:"Phone number",variant:"outlined",value:o.values.phone,onChange:o.handleChange,error:o.touched.phone&&Boolean(o.errors.phone),helperText:o.touched.phone&&o.errors.phone}),(0,v.jsx)(T.Z,{type:"submit",variant:"contained",sx:{my:2,color:"white",display:"block"},disabled:t,children:"Add new contact"})]})}var S=(0,C.ZP)(k.Z)({display:"flex",alignItems:"center",justifyContent:"center"}),I=function(e){var n=e.open,r=e.handleClose;return(0,v.jsx)("div",{children:(0,v.jsx)(S,{open:n,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,v.jsx)(b.Z,{children:(0,v.jsx)(E,{})})})})};var N=function(){var e=(0,t.v9)((function(e){return e.filter})),n=(0,f.wY)(),r=n.data,l=n.isLoading,s=(0,i.useState)(!1),d=(0,a.Z)(s,2),c=d[0],u=d[1],m=(0,i.useMemo)((function(){return null===r||void 0===r?void 0:r.filter((function(n){var r;return null!==(r=n.name.toLowerCase().includes(e.trim().toLowerCase()))&&void 0!==r?r:[]}))}),[r,e]);return(0,v.jsxs)(b.Z,{children:[(0,v.jsx)(I,{open:c,handleClose:function(){return u(!1)}}),l&&(0,v.jsx)(b.Z,{sx:{position:"absolute",display:"flex"},children:(0,v.jsx)(o.FF,{ariaLabel:"rotating-square",visible:!0,color:"grey"})}),r&&(0,v.jsxs)(b.Z,{className:"box",children:[(0,v.jsxs)(Z.Z,{onClick:function(){return u(!0)},component:"button",variant:"extended",sx:{position:"fixed",left:"42%",bottom:"100px"},color:"primary","aria-label":"add",children:[(0,v.jsx)(y.Z,{sx:{mr:1}}),"Add contact"]}),(0,v.jsx)(g.Z,{sx:{bgcolor:"background.paper"},children:m.map((function(e){var n=e.phone,r=e.name,a=e._id,t=e.email;return(0,v.jsx)(j,{phone:n,name:r,email:t,id:a},a)}))})]})]})},z=r(425);function V(){var e=(0,t.I0)(),n=(0,t.v9)((function(e){return e.filter}));return(0,v.jsx)(b.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,v.jsx)(P.Z,{onChange:function(n){var r=n.target.value;e((0,z.M)(r))},id:"standard-helperText",helperText:"Find contact by name",variant:"standard",value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"})})}var M=function(){return(0,v.jsxs)(b.Z,{children:[(0,v.jsx)(V,{}),(0,v.jsx)(N,{})]})}}}]);
//# sourceMappingURL=ContactPage.44e2a868.chunk.js.map